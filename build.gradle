plugins {
  id "org.sonarqube" version "3.5.0.2730"
}

apply plugin: 'java'
apply plugin: 'alter-ver'
apply plugin: 'maven-publish'

alterVer {
    version = '0.2'
}

publishing.repositories {
    maven {
        name "build"
        url "${rootProject.buildDir}/repo"
    }
}

publishing.publications {
    jar(MavenPublication) {
        from project.components.java
    }
}

// Build with Java 11.
// SONAR_TOKEN=... mygradle11 sonar
sonarqube {
  properties {
    property "sonar.projectKey", "gavenkoa_sonar"
    property "sonar.organization", "gavenkoa"
    property "sonar.host.url", "https://sonarcloud.io"
  }
}
